<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="div1">{{name}}</div>
<script>
     function formateString(str, data) {
        // replace 第一个参数是正则表达式  第二个参数是函数(match表示匹配的参数 key括号中的值)
        return str.replace(/\{\{(\w+)\}\}/g, function (match, key) {
            console.log("m=" + match);
            console.log("k=" + key);
            console.log(data[key]);
            return typeof data[key] === "undefined" ? '' : data[key]
        });
    }



    var data = {name:"王浩",age:43};

     console.log(formateString("我叫{{name}},今年{{age}}岁",data));

     var str ="大神大神{/:微笑}大神大神{/:生气}大打算";
     var se = str.match(/\{\/\:[^}]+}/gi);
     console.log(se);


    var inn = document.getElementById("div1");
    console.log(formateString(inn.innerHTML,data));

    inn.innerHTML =formateString(inn.innerHTML,data);
</script>
</body>
</html>