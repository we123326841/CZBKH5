<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style type="text/css">
        .box{
            height: 400px;
            width: 512px;
            overflow: hidden;
            margin: 0px auto;
            position: relative;
        }

        .box span{
            position: absolute;
            left: 0px;
            width: 100%;
            height: 200px;
        }

        .up{
            top: 0px;
        }

        .down{
            bottom: 0px;
        }

        #img1{
            position: absolute;
            top: 0px;
        }
    </style>
</head>
<body>
<div class="box" id="divid">
    <img src="images/mi.png" id="img1">
    <span class="up" id="spanup"></span>
    <span class="down" id="spandown"></span>
</div>

<script>
     var box= document.getElementById("divid");
     var img= document.getElementById("img1");
     var spanUp= document.getElementById("spanup");
     var spanDown= document.getElementById("spandown");

     var num = 0;
     var timer = 0;
    spanUp.onmouseover = function () {
        console.log("上面timer="+timer);
        clearInterval(timer);
       timer = setInterval(function () {

            num = num-3;

           if(num>= -1070){
               img.style.top = num + "px";
               console.log("上面timer="+timer + ",num="+num);
           }else{
               console.log("上面我他妈的是timer=="+timer);
               clearInterval(timer);
           }

           console.log("上面timer="+timer + ",结束num="+num);

        },30);
    }

    spanDown.onmouseover = function () {
        console.log("下面timer="+timer);
        clearInterval(timer);
        timer = setInterval(function () {
            num++;
            if(num <0){
               img.style.top = num + "px";
                console.log("下面timer="+timer + ",num="+num);
            }else {
                console.log("下面我他妈的是timer=="+timer);
                clearInterval(timer);
            }
            console.log("下面timer="+timer + ",结束num="+num);
        },30);
    }

    spanDown.parentNode.onmouseout = function () {
        console.log("外边timer"+timer);
        clearInterval(timer);

    }

</script>
</body>
</html>