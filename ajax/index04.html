<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="show"></div>
<form>
    用户名<input type="text" id="user"/><br>
    密码<input type="text" id="pwd"/><br>
    <input type="button" id="btn" value="请求"/>
</form>
</body>



<script>
    window.onload = function () {
        var btn = document.getElementById("btn");
        btn.onclick = function () {


            var username = document.getElementById("user").value;
            var password = document.getElementById("pwd").value;
            var show = document.getElementById("show");
            var xmlh = null;
            if(window.XMLHttpRequest){
                xmlh = new XMLHttpRequest();
            }else{
                xmlh = new ActiveXObject("Microsoft.XMLHTTP");
            }
            var url = "./check.php?username="+username +"&password="+password;
            xmlh.open("get",url,false);//true表示异步 false表示同步
            xmlh.onreadystatechange = function () {
                console.log(2);
                if(xmlh.readyState == 4){
                    if(xmlh.status==200){
                        var data = xmlh.responseText;
                        if(data == 2){
                            show.innerHTML = "登陆成功";
                        }else{
                            show.innerHTML = "用户名密码错误";
                        }
                    }
                }
            };

            xmlh.send(null);
            console.log(1);
            console.log(1);
            console.log(1);
            console.log(1);
            console.log(1);


        }

    }


</script>
</html>